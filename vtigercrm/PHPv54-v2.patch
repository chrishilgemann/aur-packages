diff -rupN origineel/adodb/adodb-datadict.inc.php nieuw/adodb/adodb-datadict.inc.php
--- origineel/adodb/adodb-datadict.inc.php	2012-12-12 17:28:15.000000000 +0100
+++ nieuw/adodb/adodb-datadict.inc.php	2012-12-12 19:03:08.000000000 +0100
@@ -399,7 +399,8 @@ class ADODB_DataDict {
 		if ($flds) {
 			list($lines,$pkey) = $this->_GenFields($flds);
 			list(,$first) = each($lines);
-			list(,$column_def) = split("[\t ]+",$first,2);
+			// list(,$column_def) = split("[\t ]+",$first,2);
+			list(,$column_def) = preg_split("/[\t| ]/",$first,2);
 		}
 		return array(sprintf($this->renameColumn,$tabname,$this->NameQuote($oldcolumn),$this->NameQuote($newcolumn),$column_def));
 	}
diff -rupN origineel/adodb/adodb-perf.inc.php nieuw/adodb/adodb-perf.inc.php
--- origineel/adodb/adodb-perf.inc.php	2012-12-12 17:28:16.000000000 +0100
+++ nieuw/adodb/adodb-perf.inc.php	2012-12-07 16:02:57.000000000 +0100
@@ -75,10 +75,10 @@ function& adodb_log_sql(&$conn,$sql,$inp
 		$conn->_logsql = false; // disable logsql error simulation
 		$dbT = $conn->databaseType;
 		
-		$a0 = split(' ',$t0);
+		$a0 = explode(' ',$t0);
 		$a0 = (float)$a0[1]+(float)$a0[0];
 		
-		$a1 = split(' ',$t1);
+		$a1 = explode(' ',$t1);
 		$a1 = (float)$a1[1]+(float)$a1[0];
 		
 		$time = $a1 - $a0;
@@ -1053,4 +1053,4 @@ Committed_AS:   348732 kB
     // end hack 
 }
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/adodb/drivers/adodb-informix72.inc.php nieuw/adodb/drivers/adodb-informix72.inc.php
--- origineel/adodb/drivers/adodb-informix72.inc.php	2012-12-12 17:28:17.000000000 +0100
+++ nieuw/adodb/drivers/adodb-informix72.inc.php	2012-12-07 16:24:24.000000000 +0100
@@ -369,7 +369,7 @@ class ADORecordset_informix72 extends AD
 			foreach($fp as $k => $v) {
 				$o = new ADOFieldObject;
 				$o->name = $k;
-				$arr = split(';',$v); //"SQLTYPE;length;precision;scale;ISNULLABLE"
+				$arr = explode(';',$v); //"SQLTYPE;length;precision;scale;ISNULLABLE"
 				$o->type = $arr[0];
 				$o->max_length = $arr[1];
 				$this->_fieldprops[] = $o;
@@ -472,4 +472,4 @@ function ifx_props($coltype,$collength){
 }
 
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/adodb/drivers/adodb-ldap.inc.php nieuw/adodb/drivers/adodb-ldap.inc.php
--- origineel/adodb/drivers/adodb-ldap.inc.php	2012-12-12 17:28:17.000000000 +0100
+++ nieuw/adodb/drivers/adodb-ldap.inc.php	2012-12-07 16:03:14.000000000 +0100
@@ -55,7 +55,7 @@ class ADODB_ldap extends ADOConnection {
 		$conn_info = array( $host,$this->port);
 		
 		if ( strstr( $host, ':' ) ) {
-		    $conn_info = split( ':', $host );
+		    $conn_info = explode( ':', $host );
 		} 
 		
 		$this->_connectionID = ldap_connect( $conn_info[0], $conn_info[1] );
@@ -403,4 +403,4 @@ class ADORecordSet_ldap extends ADORecor
 	}
 	
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/adodb/drivers/adodb-postgres64.inc.php nieuw/adodb/drivers/adodb-postgres64.inc.php
--- origineel/adodb/drivers/adodb-postgres64.inc.php	2012-12-12 17:28:18.000000000 +0100
+++ nieuw/adodb/drivers/adodb-postgres64.inc.php	2012-12-07 16:24:07.000000000 +0100
@@ -667,7 +667,7 @@ WHERE (c2.relname=\'%s\' or c2.relname=l
 			if (strlen($db) == 0) $db = 'template1';
 			$db = adodb_addslashes($db);
 		   	if ($str)  {
-			 	$host = split(":", $str);
+			 	$host = explode(":", $str);
 				if ($host[0]) $str = "host=".adodb_addslashes($host[0]);
 				else $str = 'host=localhost';
 				if (isset($host[1])) $str .= " port=$host[1]";
diff -rupN origineel/include/ChartUtils.php nieuw/include/ChartUtils.php
--- origineel/include/ChartUtils.php	2012-12-12 17:28:22.000000000 +0100
+++ nieuw/include/ChartUtils.php	2012-12-07 15:59:37.000000000 +0100
@@ -370,7 +370,7 @@ Class ChartUtils {
 
 		if ($fieldDetails != '') {
 			list($tablename, $colname, $module_field, $fieldname, $single) = explode(":", $fieldDetails);
-			list($module, $field) = split("_", $module_field);
+			list($module, $field) = explode("_", $module_field);
 			$dateField = false;
 			if ($single == 'D') {
 				$dateField = true;
diff -rupN origineel/include/HTTP_Session/Session.php nieuw/include/HTTP_Session/Session.php
--- origineel/include/HTTP_Session/Session.php	2012-12-12 17:28:40.000000000 +0100
+++ nieuw/include/HTTP_Session/Session.php	2012-12-12 15:50:29.000000000 +0100
@@ -528,7 +528,13 @@ class HTTP_Session
      */
     function unregister($name)
     {
-        return session_unregister($name);
+		if(isset($_SESSION[$name])){
+			unset($_SESSIN[$name]);
+			return true;
+		}
+		return false;
+
+        //return session_unregister($name);
     }
 
     /**
@@ -801,4 +807,4 @@ class HTTP_Session
 }
 
 HTTP_Session::_init();
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/include/ListView/ListViewPagging.php nieuw/include/ListView/ListViewPagging.php
--- origineel/include/ListView/ListViewPagging.php	2012-12-12 17:28:41.000000000 +0100
+++ nieuw/include/ListView/ListViewPagging.php	2012-12-07 16:20:06.000000000 +0100
@@ -41,7 +41,7 @@ if(!is_string($_SESSION[$currentModule.'
 			$where = '(' . getUnifiedWhere($list_query,$currentModule,$searchValue) . ')';
 			$url_string .= '&query=true&globalSearch=true&globalSearchText='.$searchValue;
 		}else{
-			list($where, $ustring) = split('#@@#', getWhereCondition($currentModule));
+			list($where, $ustring) = explode('#@@#', getWhereCondition($currentModule));
 			$url_string .= "&query=true$ustring";
 		}
 	}
@@ -83,4 +83,4 @@ if($pageNumber == 0){
 	$pageNumber = 1;
 }
 echo $app_strings['LBL_LIST_OF'].' '.$pageNumber;
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/include/nusoap/class.soap_transport_http.php nieuw/include/nusoap/class.soap_transport_http.php
--- origineel/include/nusoap/class.soap_transport_http.php	2012-12-12 17:28:41.000000000 +0100
+++ nieuw/include/nusoap/class.soap_transport_http.php	2012-12-12 17:36:56.000000000 +0100
@@ -932,7 +932,7 @@ class soap_transport_http extends nusoap
 	 */
 	function parseCookie($cookie_str) {
 		$cookie_str = str_replace('; ', ';', $cookie_str) . ';';
-		$data = split(';', $cookie_str);
+		$data = explode(';', $cookie_str);
 		$value_str = $data[0];
 
 		$cookie_param = 'domain=';
diff -rupN origineel/include/nusoap/nusoap.php nieuw/include/nusoap/nusoap.php
--- origineel/include/nusoap/nusoap.php	2012-12-12 17:28:41.000000000 +0100
+++ nieuw/include/nusoap/nusoap.php	2012-12-12 17:36:56.000000000 +0100
@@ -2927,7 +2927,7 @@ class soap_transport_http extends nusoap
 	 */
 	function parseCookie($cookie_str) {
 		$cookie_str = str_replace('; ', ';', $cookie_str) . ';';
-		$data = split(';', $cookie_str);
+		$data = explode(';', $cookie_str);
 		$value_str = $data[0];
 
 		$cookie_param = 'domain=';
diff -rupN origineel/include/php_writeexcel/class.writeexcel_formula.inc.php nieuw/include/php_writeexcel/class.writeexcel_formula.inc.php
--- origineel/include/php_writeexcel/class.writeexcel_formula.inc.php	2012-12-12 17:28:41.000000000 +0100
+++ nieuw/include/php_writeexcel/class.writeexcel_formula.inc.php	2012-12-07 16:30:29.000000000 +0100
@@ -670,10 +670,10 @@ function _convertRange2d($range)
     
     // Split the range into 2 cell refs
     if (preg_match("/^([A-Ia-i]?[A-Za-z])(\d+)\:([A-Ia-i]?[A-Za-z])(\d+)$/",$range)) {
-        list($cell1, $cell2) = split(':', $range);
+        list($cell1, $cell2) = explode(':', $range);
     }
  elseif (preg_match("/^([A-Ia-i]?[A-Za-z])(\d+)\.\.([A-Ia-i]?[A-Za-z])(\d+)$/",$range)) {
-        list($cell1, $cell2) = split('\.\.', $range);
+        list($cell1, $cell2) = explode('..', $range);
     }
  else {
         // TODO: use real error codes
@@ -721,7 +721,7 @@ function _convertRange3d($token)
     $class = 2; // as far as I know, this is magick.
 
     // Split the ref at the ! symbol
-    list($ext_ref, $range) = split('!', $token);
+    list($ext_ref, $range) = explode('!', $token);
 
     // Convert the external reference part
     $ext_ref = $this->_packExtRef($ext_ref);
@@ -730,7 +730,7 @@ function _convertRange3d($token)
     }
 
     // Split the range into 2 cell refs
-    list($cell1, $cell2) = split(':', $range);
+    list($cell1, $cell2) = explode(':', $range);
 
     // Convert the cell references
     if (preg_match("/^(\$)?[A-Ia-i]?[A-Za-z](\$)?(\d+)$/", $cell1))
@@ -819,7 +819,7 @@ function _convertRef3d($cell)
     $class = 2; // as far as I know, this is magick.
  
     // Split the ref at the ! symbol
-    list($ext_ref, $cell) = split('!', $cell);
+    list($ext_ref, $cell) = explode('!', $cell);
  
     // Convert the external reference part
     $ext_ref = $this->_packExtRef($ext_ref);
@@ -860,7 +860,7 @@ function _packExtRef($ext_ref) {
     // Check if there is a sheet range eg., Sheet1:Sheet2.
     if (preg_match("/:/", $ext_ref))
  {
-        list($sheet_name1, $sheet_name2) = split(':', $ext_ref);
+        list($sheet_name1, $sheet_name2) = explode(':', $ext_ref);
 
         $sheet1 = $this->_getSheetIndex($sheet_name1);
         if ($sheet1 == -1) {
diff -rupN origineel/include/php_writeexcel/class.writeexcel_worksheet.inc.php nieuw/include/php_writeexcel/class.writeexcel_worksheet.inc.php
--- origineel/include/php_writeexcel/class.writeexcel_worksheet.inc.php	2012-12-12 17:28:42.000000000 +0100
+++ nieuw/include/php_writeexcel/class.writeexcel_worksheet.inc.php	2012-12-07 15:57:23.000000000 +0100
@@ -1641,7 +1641,7 @@ function _write_url_external() {
     if (isset($sheet)) {
         $link_type |= 0x08;
         $sheet_len  = pack("V", length($sheet) + 0x01);
-        $sheet      = join("\0", split('', $sheet));
+        $sheet      = join("\0", str_split($sheet));
         $sheet     .= "\0\0\0";
     } else {
         $sheet_len   = '';
diff -rupN origineel/include/tcpdf/tcpdf.php nieuw/include/tcpdf/tcpdf.php
--- origineel/include/tcpdf/tcpdf.php	2012-12-12 17:28:54.000000000 +0100
+++ nieuw/include/tcpdf/tcpdf.php	2012-12-07 15:59:10.000000000 +0100
@@ -10975,7 +10975,7 @@ if (!class_exists('TCPDF', false)) {
 							if (isset($dom[$key]['style']['font-family'])) {
 								// font family
 								if (isset($dom[$key]['style']['font-family'])) {
-									$fontslist = split(',', strtolower($dom[$key]['style']['font-family']));
+									$fontslist = explode(',', strtolower($dom[$key]['style']['font-family']));
 									foreach ($fontslist as $font) {
 										$font = trim(strtolower($font));
 										if (in_array($font, $this->fontlist) OR in_array($font, $this->fontkeys)) {
@@ -11089,7 +11089,7 @@ if (!class_exists('TCPDF', false)) {
 						if ($dom[$key]['value'] == 'font') {
 							// font family
 							if (isset($dom[$key]['attribute']['face'])) {
-								$fontslist = split(',', strtolower($dom[$key]['attribute']['face']));
+								$fontslist = explode(',', strtolower($dom[$key]['attribute']['face']));
 								foreach ($fontslist as $font) {
 									$font = trim(strtolower($font));
 									if (in_array($font, $this->fontlist) OR in_array($font, $this->fontkeys)) {
diff -rupN origineel/include/utils/CommonUtils.php nieuw/include/utils/CommonUtils.php
--- origineel/include/utils/CommonUtils.php	2012-12-12 17:28:54.000000000 +0100
+++ nieuw/include/utils/CommonUtils.php	2012-12-07 11:40:13.000000000 +0100
@@ -1392,13 +1392,13 @@ function getProductImages($id) {
  * It acceps the File lists,modulename,id and the mode as arguments
  * It returns the array details of the upload
  */
-function SaveImage($_FILES, $module, $id, $mode) {
+function SaveImage($_FILESNG, $module, $id, $mode) {
 	global $log, $root_directory;
-	$log->debug("Entering SaveImage(" . $_FILES . "," . $module . "," . $id . "," . $mode . ") method ...");
+	$log->debug("Entering SaveImage(" . $_FILESNG . "," . $module . "," . $id . "," . $mode . ") method ...");
 	global $adb;
 	$uploaddir = $root_directory . "test/" . $module . "/"; //set this to which location you need to give the contact image
 	$log->info("The Location to Save the Contact Image is " . $uploaddir);
-	$file_path_name = $_FILES['imagename']['name'];
+	$file_path_name = $_FILESNG['imagename']['name'];
 	if (isset($_REQUEST['imagename_hidden'])) {
 		$file_name = vtlib_purify($_REQUEST['imagename_hidden']);
 	} else {
@@ -1415,13 +1415,13 @@ function SaveImage($_FILES, $module, $id
 		$encode_field_values = "";
 		$errormessage = "";
 
-		$move_upload_status = move_uploaded_file($_FILES["imagename"]["tmp_name"], $uploaddir . $image_name_val);
+		$move_upload_status = move_uploaded_file($_FILESNG["imagename"]["tmp_name"], $uploaddir . $image_name_val);
 		$image_error = "false";
 
 		//if there is an error in the uploading of image
 
-		$filetype = $_FILES['imagename']['type'];
-		$filesize = $_FILES['imagename']['size'];
+		$filetype = $_FILESNG['imagename']['type'];
+		$filesize = $_FILESNG['imagename']['size'];
 
 		$filetype_array = explode("/", $filetype);
 
@@ -1431,7 +1431,7 @@ function SaveImage($_FILES, $module, $id
 		//checking the uploaded image is if an image type or not
 		if (!$move_upload_status) { //if any error during file uploading
 			$log->debug("Error is present in uploading Contact Image.");
-			$errorCode = $_FILES['imagename']['error'];
+			$errorCode = $_FILESNG['imagename']['error'];
 			if ($errorCode == 4) {
 				$errorcode = "no-image";
 				$saveimage = "false";
@@ -3256,4 +3256,4 @@ function getReturnPath($host){
 	$Return_Path='noreply@'.$domain;
 	return $Return_Path;
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/include/utils/InventoryUtils.php nieuw/include/utils/InventoryUtils.php
--- origineel/include/utils/InventoryUtils.php	2012-12-12 17:28:54.000000000 +0100
+++ nieuw/include/utils/InventoryUtils.php	2012-12-07 15:42:21.000000000 +0100
@@ -590,7 +590,7 @@ function saveInventoryProductDetails(&$f
 
 		$sub_prod_str = $_REQUEST['subproduct_ids'.$i];
 		if (!empty($sub_prod_str)) {
-			$sub_prod = split(":",$sub_prod_str);
+			$sub_prod = explode(":",$sub_prod_str);
 			for($j=0;$j<count($sub_prod);$j++){
 				$query ="insert into vtiger_inventorysubproductrel(id, sequence_no, productid) values(?,?,?)";
 				$qparams = array($focus->id,$prod_seq,$sub_prod[$j]);
@@ -1085,4 +1085,4 @@ function getPriceBookCurrency($pricebook
 	$currency_id = $adb->query_result($result,0,'currency_id');
 	return $currency_id;
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/include/utils/utils.php nieuw/include/utils/utils.php
--- origineel/include/utils/utils.php	2012-12-12 17:28:54.000000000 +0100
+++ nieuw/include/utils/utils.php	2012-12-07 14:09:29.000000000 +0100
@@ -1010,12 +1010,29 @@ function to_html($string, $encode=true)
 	global $log,$default_charset;
 	//$log->debug("Entering to_html(".$string.",".$encode.") method ...");
 	global $toHtml;
-	$action = $_REQUEST['action'];
-	$search = $_REQUEST['search'];
+	$action = '';
+	$search = '';
+	if(isset($_REQUEST['action'])){
+		$action = $_REQUEST['action'];
+	}
+	if(isset($_REQUEST['search'])){
+		$search = $_REQUEST['search'];
+	}
 
 	$doconvert = false;
 
-	if($_REQUEST['module'] != 'Settings' && $_REQUEST['file'] != 'ListView' && $_REQUEST['module'] != 'Portal' && $_REQUEST['module'] != "Reports")// && $_REQUEST['module'] != 'Emails')
+	$module = '';
+	$file = '';
+	if(isset($_REQUEST['module'])){
+		$module = $_REQUEST['module'];
+	}
+	if(isset($_REQUEST['file'])){
+		$file = $_REQUEST['file'];
+	}
+//	if($_REQUEST['module'] != 'Settings' && $_REQUEST['file'] != 'ListView' && $_REQUEST['module'] != 'Portal' && $_REQUEST['module'] != "Reports")// && $_REQUEST['module'] != 'Emails')
+//		$ajax_action = $_REQUEST['module'].'Ajax';
+
+	if($module != 'Settings' && $file != 'ListView' && $module != 'Portal' && $module != "Reports")// && $_REQUEST['module'] != 'Emails')
 		$ajax_action = $_REQUEST['module'].'Ajax';
 
 	if(is_string($string))
@@ -3236,7 +3253,7 @@ function getMigrationCharsetFlag() {
 /** Function to convert a given time string to Minutes */
 function ConvertToMinutes($time_string)
 {
-	$interval = split(' ', $time_string);
+	$interval = explode(' ', $time_string);
 	$interval_minutes = intval($interval[0]);
 	$interval_string = strtolower($interval[1]);
 	if($interval_string == 'hour' || $interval_string == 'hours')
@@ -5005,7 +5022,7 @@ function getSelectAllQuery($input,$modul
 		$query = $oCustomView->getModifiedCvListQuery($viewid,$listquery,$module);
 		$where = '';
 		if($input['query'] == 'true') {
-			list($where, $ustring) = split("#@@#",getWhereCondition($module, $input));
+			list($where, $ustring) = explode("#@@#",getWhereCondition($module, $input));
 			if(isset($where) && $where != '') {
 				$query .= " AND " .$where;
 			}
@@ -5131,4 +5148,4 @@ function getMinimumCronFrequency() {
 	return 15;
 }
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/include/Webservices/WebserviceField.php nieuw/include/Webservices/WebserviceField.php
--- origineel/include/Webservices/WebserviceField.php	2012-12-12 17:28:55.000000000 +0100
+++ nieuw/include/Webservices/WebserviceField.php	2012-12-08 22:30:34.000000000 +0100
@@ -197,8 +197,10 @@ class WebserviceField{
 		}else{
 			$dbMetaColumns = $this->pearDB->database->MetaColumns($this->getTableName());
 			$tableFields = array();
-			foreach ($dbMetaColumns as $key => $dbField) {
-				$tableFields[$dbField->name] = $dbField;
+			if(is_array($dbMetaColumns) && count($dbMetaColumns)>0){
+				foreach ($dbMetaColumns as $key => $dbField) {
+					$tableFields[$dbField->name] = $dbField;
+				}
 			}
 			WebserviceField::$tableMeta[$this->getTableName()] = $tableFields;
 		}
diff -rupN origineel/index.php nieuw/index.php
--- origineel/index.php	2012-12-12 17:28:55.000000000 +0100
+++ nieuw/index.php	2012-12-07 14:22:11.000000000 +0100
@@ -72,7 +72,10 @@ if(isset($_REQUEST['PHPSESSID']))
 if(isset($_REQUEST['view'])) {
     //setcookie("view",$_REQUEST['view']);
     $view = $_REQUEST["view"];
-    session_register("view");
+	if(!isset($_SESSION['view'])){
+		$_SESSION['view'] = $view;
+	}
+    //session_register("view");
 }
 	
 
@@ -678,7 +681,7 @@ if(!$skipSecurityCheck && $use_current_l
 
 	require_once('include/utils/UserInfoUtil.php');
 	if(preg_match('/Ajax/',$action)) {
-		if($_REQUEST['ajxaction'] == 'LOADRELATEDLIST'){
+		if(isset($_REQUEST['ajxaction']) && $_REQUEST['ajxaction'] == 'LOADRELATEDLIST'){
 			$now_action = 'DetailView';
 		} else {
 			$now_action=vtlib_purify($_REQUEST['file']);
@@ -891,4 +894,4 @@ if((!$viewAttachment) && (!$viewAttachme
 	if((!$skipFooters) && ($action != "body") && ($action != $module."Ajax") && ($action != "ActivityAjax"))
 		include('modules/Vtiger/footer.php');
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Calendar/DetailView.php nieuw/modules/Calendar/DetailView.php
--- origineel/modules/Calendar/DetailView.php	2012-12-12 17:29:01.000000000 +0100
+++ nieuw/modules/Calendar/DetailView.php	2012-12-12 15:47:18.000000000 +0100
@@ -33,7 +33,8 @@ if( $_SESSION['mail_send_error']!="")
 {
 	echo '<b><font color=red>'. $mod_strings{"LBL_NOTIFICATION_ERROR"}.'</font></b><br>';
 }
-session_unregister('mail_send_error');
+//session_unregister('mail_send_error');
+unset($_SESSION['mail_send_error']);
 
 $focus = CRMEntity::getInstance($currentModule);
 $smarty =  new vtigerCRM_Smarty();
@@ -133,8 +134,8 @@ if($current_user->hour_format == '')
 	$format = 'am/pm';
 else
 	$format = $current_user->hour_format;
-list($stdate,$sttime) = split(' ',$finaldata['date_start']);
-list($enddate,$endtime) = split(' ',$finaldata['due_date']);
+list($stdate,$sttime) = explode(' ',$finaldata['date_start']);
+list($enddate,$endtime) = explode(' ',$finaldata['due_date']);
 $time_arr = getaddEventPopupTime($sttime,$endtime,$format);
 $data['starthr'] = $time_arr['starthour'];
 $data['startmin'] = $time_arr['startmin'];
@@ -308,4 +309,4 @@ $smarty->assign("CUSTOM_FIELDS_DATA", $c
 
 $smarty->display("ActivityDetailView.tpl");
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Calendar/iCalExport.php nieuw/modules/Calendar/iCalExport.php
--- origineel/modules/Calendar/iCalExport.php	2012-12-12 17:29:02.000000000 +0100
+++ nieuw/modules/Calendar/iCalExport.php	2012-12-07 14:14:39.000000000 +0100
@@ -57,10 +57,10 @@ foreach($event_fields as $key=>$val){
 
 $tz = new iCalendar_timezone;
 if(!empty($default_timezone)){
-	$tzid = split('/',$default_timezone);
+	$tzid = explode('/',$default_timezone);
 } else {
 	$default_timezone = date_default_timezone_get();
-	$tzid = split('/',$default_timezone);
+	$tzid = explode('/',$default_timezone);
 }
 
 if(!empty($tzid[1])){
@@ -110,4 +110,4 @@ while (!$calendar_results->EOF) {
 // Print the actual calendar
 echo $myical->serialize();
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Calendar/ListView.php nieuw/modules/Calendar/ListView.php
--- origineel/modules/Calendar/ListView.php	2012-12-12 17:29:02.000000000 +0100
+++ nieuw/modules/Calendar/ListView.php	2012-12-07 14:14:12.000000000 +0100
@@ -131,7 +131,7 @@ $url_string = ''; // assigning http url
 if(isset($_REQUEST['query']) && $_REQUEST['query'] == 'true')
 {
 
-	list($where, $ustring) = split("#@@#",getWhereCondition($currentModule));
+	list($where, $ustring) = explode("#@@#",getWhereCondition($currentModule));
 	// we have a query
 	$url_string .="&query=true".$ustring;
 	$log->info("Here is the where clause for the list view: $where");
@@ -293,4 +293,4 @@ if(isset($_REQUEST['ajax']) && $_REQUEST
 	$smarty->display("ListViewEntries.tpl");
 else
 	$smarty->display("ActivityListView.tpl");
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Calendar/RepeatEvents.php nieuw/modules/Calendar/RepeatEvents.php
--- origineel/modules/Calendar/RepeatEvents.php	2012-12-12 17:29:02.000000000 +0100
+++ nieuw/modules/Calendar/RepeatEvents.php	2012-12-07 14:13:27.000000000 +0100
@@ -19,8 +19,8 @@ class Calendar_RepeatEvents {
 	 */
 	static function mktime($fulldateString) {
 		$splitpart = self::splittime($fulldateString);
-		$datepart = split('-', $splitpart[0]);
-		$timepart = split(':', $splitpart[1]);
+		$datepart = explode('-', $splitpart[0]);
+		$timepart = explode(':', $splitpart[1]);
 		return mktime($timepart[0], $timepart[1], 0, $datepart[1], $datepart[2], $datepart[0]);
 	}
 	/**
@@ -46,7 +46,7 @@ class Calendar_RepeatEvents {
 	 * Split full timing into date and time part.
 	 */
 	static function splittime($fulltiming) {
-		return split(' ', $fulltiming);
+		return explode(' ', $fulltiming);
 	}
 	/**
 	 * Calculate the time interval to create repeated event entries.
@@ -177,4 +177,4 @@ class Calendar_RepeatEvents {
 	}
 }
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Contacts/DetailView.php nieuw/modules/Contacts/DetailView.php
--- origineel/modules/Contacts/DetailView.php	2012-12-12 17:29:04.000000000 +0100
+++ nieuw/modules/Contacts/DetailView.php	2012-12-12 15:45:13.000000000 +0100
@@ -38,8 +38,9 @@ if(isset($_REQUEST['record']) && $_REQUE
         if($_SESSION['image_type_error'] != '')
         {
                 echo '<font color="red">'.$_SESSION['image_type_error'].'</font>';
-                session_unregister('image_type_error');
-        }
+                //session_unregister('image_type_error');
+        		unset($_SESSION['image_type_error']);
+		}
 
         $focus->id=$_REQUEST['record'];
         $focus->retrieve_entity_info($_REQUEST['record'],'Contacts');
@@ -203,4 +204,4 @@ $smarty->assign('CUSTOM_LINKS', Vtiger_L
 $smarty->assign('DETAILVIEW_AJAX_EDIT', PerformancePrefs::getBoolean('DETAILVIEW_AJAX_EDIT', true));
 
 $smarty->display("DetailView.tpl");
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Documents/Documents.php nieuw/modules/Documents/Documents.php
--- origineel/modules/Documents/Documents.php	2012-12-12 17:29:06.000000000 +0100
+++ nieuw/modules/Documents/Documents.php	2012-12-07 15:50:58.000000000 +0100
@@ -466,7 +466,7 @@ class Documents extends CRMEntity {
 
 	function getQueryByModuleField($module, $fieldname, $srcrecord, $query) {
 		if($module == "MailManager") {
-			$tempQuery = split('WHERE', $query);
+			$tempQuery = explode('WHERE', $query);
 			if(!empty($tempQuery[1])) {
 				$where = " vtiger_notes.filelocationtype = 'I' AND vtiger_notes.filename != '' AND vtiger_notes.filestatus != 0 AND ";
 				$query = $tempQuery[0].' WHERE '.$where.$tempQuery[1];
@@ -477,4 +477,4 @@ class Documents extends CRMEntity {
 		}
 	}
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/HelpDesk/HelpDesk.php nieuw/modules/HelpDesk/HelpDesk.php
--- origineel/modules/HelpDesk/HelpDesk.php	2012-12-12 17:29:09.000000000 +0100
+++ nieuw/modules/HelpDesk/HelpDesk.php	2012-12-07 15:45:19.000000000 +0100
@@ -279,7 +279,7 @@ class HelpDesk extends CRMEntity {
 		$result=$adb->pquery($query, array($ticketid));
 		$update_log = $adb->query_result($result,0,"update_log");
 
-		$splitval = split('--//--',trim($update_log,'--//--'));
+		$splitval = explode('--//--',trim($update_log,'--//--'));
 
 		$header[] = $adb->query_result($result,0,"title");
 
@@ -831,4 +831,4 @@ case when (vtiger_users.user_name not li
 
 }
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Migration/MigrationCheck.php nieuw/modules/Migration/MigrationCheck.php
--- origineel/modules/Migration/MigrationCheck.php	2012-12-12 17:29:13.000000000 +0100
+++ nieuw/modules/Migration/MigrationCheck.php	2012-12-12 15:48:57.000000000 +0100
@@ -44,7 +44,7 @@ if($_REQUEST['getmysqlpath'] == 1 && $_R
 	if(is_file($server_mysql_path."/mysqldump"))
 	{
 		$mysql_path_found = true;
-		@session_unregister('set_server_mysql_path');
+		//@session_unregister('set_server_mysql_path');
 		$_SESSION['set_server_mysql_path'] = $server_mysql_path;
 		$migration_log .='MySQL Dump file has found in ==> '.$server_mysql_path;
 	}
diff -rupN origineel/modules/Migration/MigrationStep1.php nieuw/modules/Migration/MigrationStep1.php
--- origineel/modules/Migration/MigrationStep1.php	2012-12-12 17:29:13.000000000 +0100
+++ nieuw/modules/Migration/MigrationStep1.php	2012-12-12 15:48:41.000000000 +0100
@@ -34,7 +34,7 @@ elseif(substr($_ENV["OS"],0,3) == "Win")
 	if(is_file($vtiger_home.'\mysql\bin\mysql.exe'))
 	{
 		$installed_mysql_path = $vtiger_home.'\mysql\bin\mysqldump.exe';
-		@session_unregister('set_server_mysql_path');
+		//@session_unregister('set_server_mysql_path');
 		$_SESSION['set_server_mysql_path'] = $vtiger_home.'\mysql\bin';
 		$getmysqlpath = 0;
 	}
@@ -134,4 +134,4 @@ if($_REQUEST['migration_option'] != '')
 
 $smarty->display("MigrationStep1.tpl");
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Products/DetailView.php nieuw/modules/Products/DetailView.php
--- origineel/modules/Products/DetailView.php	2012-12-12 17:29:25.000000000 +0100
+++ nieuw/modules/Products/DetailView.php	2012-12-12 15:44:35.000000000 +0100
@@ -28,7 +28,8 @@ if($record != '') {
 	if($_SESSION['image_type_error'] != '')
 	{
 		echo '<font color="red">'.$_SESSION['image_type_error'].'</font>';
-		session_unregister('image_type_error');
+		//session_unregister('image_type_error');
+		unset($_SESSION['image_type_error']);
 	}
 	$focus->id = $record;
 	$focus->retrieve_entity_info($record, $currentModule);
@@ -132,4 +133,4 @@ $smarty->assign('DETAILVIEW_AJAX_EDIT',
 
 $smarty->display("Inventory/InventoryDetailView.tpl");
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Reports/AdvancedFilter.php nieuw/modules/Reports/AdvancedFilter.php
--- origineel/modules/Reports/AdvancedFilter.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/AdvancedFilter.php	2012-12-07 15:53:33.000000000 +0100
@@ -166,13 +166,13 @@ function getRelatedColumns($selected="")
 	global $ogReport;
 	$rel_fields = $ogReport->adv_rel_fields;
 	if($selected!='All'){
-		$selected = split(":",$selected);
+		$selected = explode(":",$selected);
 	}
 	$related_fields = array();
 	foreach($rel_fields as $i=>$index){
 		$shtml='';
 		foreach($index as $key=>$value){
-			$fieldarray = split("::",$value);
+			$fieldarray = explode("::",$value);
 			$shtml .= "<option value=\"".$fieldarray[0]."\">".$fieldarray[1]."</option>";
 		}
 		$related_fields[$i] = $shtml;
@@ -192,4 +192,4 @@ function getRelatedFieldColumns($selecte
 	return $rel_fields;
 }
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Reports/CustomReportUtils.php nieuw/modules/Reports/CustomReportUtils.php
--- origineel/modules/Reports/CustomReportUtils.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/CustomReportUtils.php	2012-12-07 15:52:44.000000000 +0100
@@ -33,8 +33,8 @@ Class CustomReportUtils {
 		foreach ($groupBy as $key => $value) {
 			// $groupByConditon = explode(" ",$value);
 			//$groupByNew = explode("'",$groupByConditon[0]);
-			list($tablename, $colname, $module_field, $fieldname, $single) = split(":", $key);
-			list($module, $field) = split("_", $module_field);
+			list($tablename, $colname, $module_field, $fieldname, $single) = explode(":", $key);
+			list($module, $field) = explode("_", $module_field);
 			$fieldDetails = $key;
 			break;
 		}
@@ -53,7 +53,7 @@ Class CustomReportUtils {
 	}
 
 	public static function IsDateField($reportColDetails) {
-		list($tablename, $colname, $module_field, $fieldname, $typeOfData) = split(":", $reportColDetails);
+		list($tablename, $colname, $module_field, $fieldname, $typeOfData) = explode(":", $reportColDetails);
 		if ($typeOfData == "D") {
 			return true;
 		} else {
@@ -62,9 +62,9 @@ Class CustomReportUtils {
 	}
 
 	public static function getAdvanceSearchCondition($fieldDetails, $criteria, $fieldvalue) {
-		list($tablename, $colname, $module_field, $fieldname, $single) = split(":", $fieldDetails);
-		list($module, $field) = split("_", $module_field);
-		list($year, $month, $day) = split("-", $fieldvalue);
+		list($tablename, $colname, $module_field, $fieldname, $single) = explode(":", $fieldDetails);
+		list($module, $field) = explode("_", $module_field);
+		list($year, $month, $day) = explode("-", $fieldvalue);
 		$grteqCondition = 'h';
 		$eqCondition = 'e';
 		$lessCondititon = 'l';
diff -rupN origineel/modules/Reports/DuplicateReport.php nieuw/modules/Reports/DuplicateReport.php
--- origineel/modules/Reports/DuplicateReport.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/DuplicateReport.php	2012-12-07 15:51:58.000000000 +0100
@@ -35,7 +35,7 @@ if($numOfRows > 0) {
 	$primarymodule = $ogReport->primodule;
 	$restrictedmodules = array();
 	if($ogReport->secmodule!='')
-		$rep_modules = split(":",$ogReport->secmodule);
+		$rep_modules = explode(":",$ogReport->secmodule);
 	else
 		$rep_modules = array();
 
@@ -166,4 +166,4 @@ if($numOfRows > 0) {
 
 $json = new Zend_Json();
 echo $json->encode($response_array);
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Reports/NewReport0.php nieuw/modules/Reports/NewReport0.php
--- origineel/modules/Reports/NewReport0.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/NewReport0.php	2012-12-07 15:53:12.000000000 +0100
@@ -36,7 +36,7 @@ $repObj = new Reports ();
 if($recordid!=''){
 	$oRep = new Reports($recordid);
 	if($oRep->secmodule!=''){
-		$sec_mod = split(":",$oRep->secmodule);
+		$sec_mod = explode(":",$oRep->secmodule);
 		$rel_modules = getReportRelatedModules($oRep->primodule,$oRep);
 		if(!empty($sec_mod)){
 			foreach($sec_mod as $module){
@@ -108,7 +108,7 @@ if($_REQUEST['reportName'] !='')
 	$list_report_form->assign("REPORTNAME",vtlib_purify($_REQUEST['reportName']));
 	$list_report_form->assign("REPORTDESC",vtlib_purify($_REQUEST['reportDesc']));
 	$list_report_form->assign("REP_MODULE",vtlib_purify($_REQUEST['primarymodule']));
-	$sec_mod = split(":",vtlib_purify($_REQUEST['secondarymodule']));
+	$sec_mod = explode(":",vtlib_purify($_REQUEST['secondarymodule']));
 	$sec_module = array();
 	foreach($sec_mod as $module){
 				$sec_module[$module] = 1;
@@ -123,4 +123,4 @@ $list_report_form->assign("IMAGE_PATH",
 $list_report_form->assign("THEME_PATH", $theme_path);
 $list_report_form->assign("ERROR_MSG", $mod_strings['LBL_NO_PERMISSION']);
 $list_report_form->display("ReportsStep0.tpl");
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Reports/ReportRun.php nieuw/modules/Reports/ReportRun.php
--- origineel/modules/Reports/ReportRun.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/ReportRun.php	2012-12-07 15:49:58.000000000 +0100
@@ -96,8 +96,8 @@ class ReportRun extends CRMEntity
 		{
 			$fieldname ="";
 			$fieldcolname = $columnslistrow["columnname"];
-			list($tablename,$colname,$module_field,$fieldname,$single) = split(":",$fieldcolname);
-			list($module,$field) = split("_",$module_field,2);
+			list($tablename,$colname,$module_field,$fieldname,$single) = explode(":",$fieldcolname);
+			list($module,$field) = explode("_",$module_field,2);
 			$inventory_fields = array('quantity','listprice','serviceid','productid','discount','comment');
 			$inventory_modules = array('SalesOrder','Quotes','PurchaseOrder','Invoice');
 			require('user_privileges/user_privileges_'.$current_user->id.'.php');
@@ -158,7 +158,7 @@ class ReportRun extends CRMEntity
 				{
 					if($selectedfields[4] == 'C')
 					{
-						$field_label_data = split("_",$selectedfields[2]);
+						$field_label_data = explode("_",$selectedfields[2]);
 						$module= $field_label_data[0];
 						if($module!=$this->primarymodule)
 							$columnslist[$fieldcolname] = "case when (".$selectedfields[0].".".$selectedfields[1]."='1')then 'yes' else case when (vtiger_crmentity$module.crmid !='') then 'no' else '-' end end as '$selectedfields[2]'";
@@ -490,7 +490,7 @@ class ReportRun extends CRMEntity
 	 */
 	function getFilterComparedField($field){
 		global $adb,$ogReport;
-			$field = split('#',$field);
+			$field = explode('#',$field);
 			$module = $field[0];
 			$fieldname = trim($field[1]);
 			$tabid = getTabId($module);
@@ -1297,7 +1297,7 @@ class ReportRun extends CRMEntity
 		while($reportsortrow = $adb->fetch_array($result))
 		{
 			$fieldcolname = $reportsortrow["columnname"];
-			list($tablename,$colname,$module_field,$fieldname,$single) = split(":",$fieldcolname);
+			list($tablename,$colname,$module_field,$fieldname,$single) = explode(":",$fieldcolname);
 			$sortorder = $reportsortrow["sortorder"];
 
 			if($sortorder == "Ascending")
@@ -1333,7 +1333,7 @@ class ReportRun extends CRMEntity
 					$sqlvalue = implode(", ",$groupByCondition);
 				}
 				$grouplist[$fieldcolname] = $sqlvalue;
-				$temp = split("_",$selectedfields[2],2);
+				$temp = explode("_",$selectedfields[2],2);
 				$module = $temp[0];
 				if(CheckFieldPermission($fieldname,$module) == 'true')
 				{
@@ -1872,7 +1872,7 @@ class ReportRun extends CRMEntity
 		$modules_selected = array();
 		$modules_selected[] = $this->primarymodule;
 		if(!empty($this->secondarymodule)){
-			$sec_modules = split(":",$this->secondarymodule);
+			$sec_modules = explode(":",$this->secondarymodule);
 			for($i=0;$i<count($sec_modules);$i++){
 				$modules_selected[] = $sec_modules[$i];
 			}
@@ -1936,7 +1936,7 @@ class ReportRun extends CRMEntity
 						$arrayHeaders[] = $headerLabel;
 					}
 					/*STRING TRANSLATION starts */
-					$mod_name = split(' ',$headerLabel,2);
+					$mod_name = explode(' ',$headerLabel,2);
 					$moduleLabel ='';
 					if(in_array($mod_name[0],$modules_selected)){
 						$moduleLabel = getTranslatedString($mod_name[0],$mod_name[0]);
@@ -2441,7 +2441,7 @@ class ReportRun extends CRMEntity
 						$arrayHeaders[] = $headerLabel;
 					}
 					/*STRING TRANSLATION starts */
-					$mod_name = split(' ',$headerLabel,2);
+					$mod_name = explode(' ',$headerLabel,2);
 					$moduleLabel ='';
 					if(in_array($mod_name[0],$modules_selected)){
 						$moduleLabel = getTranslatedString($mod_name[0],$mod_name[0]);
@@ -2738,7 +2738,7 @@ class ReportRun extends CRMEntity
 				if(CheckColumnPermission($field_tablename,$field_columnname,$premod) != "false"){
 					$field_permitted = true;
 				} else {
-					$mod = split(":",$secmod);
+					$mod = explode(":",$secmod);
 					foreach($mod as $key){
 						if(CheckColumnPermission($field_tablename,$field_columnname,$key) != "false"){
 							$field_permitted=true;
@@ -3131,7 +3131,7 @@ class ReportRun extends CRMEntity
         $num_rows = $adb->num_rows($groupByTimeRes);
         for($i=0;$i<$num_rows;$i++){
             $sortColName = $adb->query_result($groupByTimeRes, $i,'sortcolname');
-            list($tablename,$colname,$module_field,$fieldname,$single) = split(':',$sortColName);
+            list($tablename,$colname,$module_field,$fieldname,$single) = explode(':',$sortColName);
             $groupField = $module_field;
             $groupCriteria = $adb->query_result($groupByTimeRes, $i,'dategroupbycriteria');
             if(in_array($groupCriteria,array_keys($this->groupByTimeParent))){
@@ -3328,4 +3328,4 @@ class ReportRun extends CRMEntity
 		return $columnsSqlList;
 	}
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Reports/Reports.php nieuw/modules/Reports/Reports.php
--- origineel/modules/Reports/Reports.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/Reports.php	2012-12-07 15:47:59.000000000 +0100
@@ -1205,7 +1205,7 @@ function getEscapedColumns($selectedfiel
 		$result = $adb->pquery($ssql, array($reportid));
 		$permitted_fields = Array();
 
-		$selected_mod = split(":",$this->secmodule);
+		$selected_mod = explode(":",$this->secmodule);
 		array_push($selected_mod,$this->primodule);
 
 		while($columnslistrow = $adb->fetch_array($result))
@@ -1221,9 +1221,9 @@ function getEscapedColumns($selectedfiel
 				}
 			}
 			if($selmod_field_disabled==false){
-				list($tablename,$colname,$module_field,$fieldname,$single) = split(":",$fieldcolname);
+				list($tablename,$colname,$module_field,$fieldname,$single) = explode(":",$fieldcolname);
 				require('user_privileges/user_privileges_'.$current_user->id.'.php');
-				list($module,$field) = split("_",$module_field);
+				list($module,$field) = explode("_",$module_field);
 				if(sizeof($permitted_fields) == 0 && $is_admin == false && $profileGlobalPermission[1] == 1 && $profileGlobalPermission[2] == 1)
 				{
 					$permitted_fields = $this->getaccesfield($module);
@@ -1732,4 +1732,4 @@ function updateAdvancedCriteria($reporti
 		$irelcriteriagroupresult = $adb->pquery($irelcriteriagroupsql, array($group_index, $reportid, $group_condition_info["groupcondition"], $group_condition_info["conditionexpression"]));
 	}
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Reports/SaveAndRun.php nieuw/modules/Reports/SaveAndRun.php
--- origineel/modules/Reports/SaveAndRun.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/SaveAndRun.php	2012-12-07 15:48:36.000000000 +0100
@@ -50,7 +50,7 @@ if($numOfRows > 0) {
 	$primarymodule = $ogReport->primodule;
 	$restrictedmodules = array();
 	if($ogReport->secmodule!='')
-		$rep_modules = split(":",$ogReport->secmodule);
+		$rep_modules = explode(":",$ogReport->secmodule);
 	else
 		$rep_modules = array();
 
@@ -95,8 +95,8 @@ if($numOfRows > 0) {
 				foreach ($groupBy as $key => $value) {
 					//$groupByConditon = explode(" ",$value);
 					//$groupByNew = explode("'",$groupByConditon[0]);
-					list($tablename,$colname,$module_field,$fieldname,$single) = split(":",$key);
-					list($module,$field)= split("_",$module_field);
+					list($tablename,$colname,$module_field,$fieldname,$single) = explode(":",$key);
+					list($module,$field)= explode("_",$module_field);
 					$fieldDetails = $key;
 					break;
 				}
diff -rupN origineel/modules/Reports/Save.php nieuw/modules/Reports/Save.php
--- origineel/modules/Reports/Save.php	2012-12-12 17:29:28.000000000 +0100
+++ nieuw/modules/Reports/Save.php	2012-12-07 15:47:16.000000000 +0100
@@ -137,7 +137,7 @@ if($reportid == "")
 					$selectedcolumn = explode(";",$shared_entities);
 					for($i=0 ;$i< count($selectedcolumn) -1 ;$i++)
 					{
-						$temp = split("::",$selectedcolumn[$i]);
+						$temp = explode("::",$selectedcolumn[$i]);
 						$icolumnsql = "insert into vtiger_reportsharing (reportid,shareid,setype) values (?,?,?)";
 						$icolumnsqlresult = $adb->pquery($icolumnsql, array($genQueryId,$temp[1],$temp[0]));
 					}
@@ -331,7 +331,7 @@ if($reportid == "")
 			$selectedcolumn = explode(";",$shared_entities);
 			for($i=0 ;$i< count($selectedcolumn) -1 ;$i++)
 			{
-				$temp = split("::",$selectedcolumn[$i]);
+				$temp = explode("::",$selectedcolumn[$i]);
 				$icolumnsql = "INSERT INTO vtiger_reportsharing (reportid,shareid,setype) VALUES (?,?,?)";
 				$icolumnsqlresult = $adb->pquery($icolumnsql, array($reportid,$temp[1],$temp[0]));
 			}
@@ -527,4 +527,4 @@ if($reportid == "")
 	}
 	echo '<script>window.opener.location.href = window.opener.location.href;self.close();</script>';
 }
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/System/includes/common_functions.php nieuw/modules/System/includes/common_functions.php
--- origineel/modules/System/includes/common_functions.php	2012-12-12 17:29:34.000000000 +0100
+++ nieuw/modules/System/includes/common_functions.php	2012-12-07 15:41:40.000000000 +0100
@@ -155,7 +155,7 @@ function execute_program ($programname,
   
   // see if we've gotten a |, if we have we need to do patch checking on the cmd
   if ($args) {
-    $args_list = split(' ', $args);
+    $args_list = explode(' ', $args);
     for ($i = 0; $i < count($args_list); $i++) {
       if ($args_list[$i] == '|') {
         $cmd = $args_list[$i + 1];
diff -rupN origineel/modules/System/includes/mb/class.mbm5.inc.php nieuw/modules/System/includes/mb/class.mbm5.inc.php
--- origineel/modules/System/includes/mb/class.mbm5.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/mb/class.mbm5.inc.php	2012-12-07 15:51:41.000000000 +0100
@@ -32,8 +32,8 @@ class mbinfo {
 
     if (!isset($this->buf_label)) {
       if ($fp = fopen('MBM5.csv', 'r')) {
-	    $this->buf_label = split(';', fgets($fp));
-        $this->buf_value = split(';', fgets($fp));
+	    $this->buf_label = explode(';', fgets($fp));
+        $this->buf_value = explode(';', fgets($fp));
         fclose($fp);
       }
     }
@@ -58,8 +58,8 @@ class mbinfo {
 
     if (!isset($this->buf_label)) {
       if ($fp = fopen('MBM5.csv', 'r')) {
-	    $this->buf_label = split(';', fgets($fp));
-        $this->buf_value = split(';', fgets($fp));
+	    $this->buf_label = explode(';', fgets($fp));
+        $this->buf_value = explode(';', fgets($fp));
         fclose($fp);
       }
     }
@@ -85,8 +85,8 @@ class mbinfo {
 
     if (!isset($this->buf_label)) {
       if ($fp = fopen('MBM5.csv', 'r')) {
-	    $this->buf_label = split(';', fgets($fp));
-        $this->buf_value = split(';', fgets($fp));
+	    $this->buf_label = explode(';', fgets($fp));
+        $this->buf_value = explode(';', fgets($fp));
         fclose($fp);
       }
     }
diff -rupN origineel/modules/System/includes/os/class.BSD.common.inc.php nieuw/modules/System/includes/os/class.BSD.common.inc.php
--- origineel/modules/System/includes/os/class.BSD.common.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.BSD.common.inc.php	2012-12-07 16:27:20.000000000 +0100
@@ -226,7 +226,7 @@ class bsd_common {
     $results['ram'] = array();
 
     $pstat = execute_program('vmstat');
-    $lines = split("\n", $pstat);
+    $lines = explode("\n", $pstat);
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i], 19);
       if ($i == 2) {
@@ -254,7 +254,7 @@ class bsd_common {
       $pstat = execute_program('swapinfo', '-k');
     } 
 
-    $lines = split("\n", $pstat);
+    $lines = explode("\n", $pstat);
 
     $results['swap']['total'] = 0;
     $results['swap']['used'] = 0;
diff -rupN origineel/modules/System/includes/os/class.Darwin.inc.php nieuw/modules/System/includes/os/class.Darwin.inc.php
--- origineel/modules/System/includes/os/class.Darwin.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.Darwin.inc.php	2012-12-07 16:28:58.000000000 +0100
@@ -82,7 +82,7 @@ class sysinfo extends bsd_common {
     $results = array();
     $s = $this->grab_ioreg('IOPCIDevice');
 
-    $lines = split("\n", $s);
+    $lines = explode("\n", $s);
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i], 19);
       $results[$i] = $ar_buf[0];
@@ -96,7 +96,7 @@ class sysinfo extends bsd_common {
     // ioreg | grep "Media  <class IOMedia>"
     $s = $this->grab_ioreg('IOATABlockStorageDevice'); 
 
-    $lines = split("\n", $s);
+    $lines = explode("\n", $s);
     $j = 0;
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\/\//", $lines[$i], 19);
@@ -115,7 +115,7 @@ class sysinfo extends bsd_common {
     $results['ram'] = array();
 
     $pstat = execute_program('vm_stat'); // use darwin's vm_stat
-    $lines = split("\n", $pstat);
+    $lines = explode("\n", $pstat);
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i], 19);
 
@@ -135,7 +135,7 @@ class sysinfo extends bsd_common {
     $results['ram']['percent'] = round(($results['ram']['used'] * 100) / $results['ram']['total']); 
     // need to fix the swap info...
     $pstat = execute_program('swapinfo', '-k');
-    $lines = split("\n", $pstat);
+    $lines = explode("\n", $pstat);
 
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i], 6);
@@ -157,7 +157,7 @@ class sysinfo extends bsd_common {
 
   function network () {
     $netstat = execute_program('netstat', '-nbdi | cut -c1-24,42- | grep Link');
-    $lines = split("\n", $netstat);
+    $lines = explode("\n", $netstat);
     $results = array();
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i]);
@@ -183,7 +183,7 @@ class sysinfo extends bsd_common {
 
   function filesystems () {
     $df = execute_program('df', '-k');
-    $mounts = split("\n", $df);
+    $mounts = explode("\n", $df);
     $fstype = array();
 
     $s = execute_program('mount');
diff -rupN origineel/modules/System/includes/os/class.FreeBSD.inc.php nieuw/modules/System/includes/os/class.FreeBSD.inc.php
--- origineel/modules/System/includes/os/class.FreeBSD.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.FreeBSD.inc.php	2012-12-07 16:24:44.000000000 +0100
@@ -49,7 +49,7 @@ class sysinfo extends bsd_common {
 
   function network () {
     $netstat = execute_program('netstat', '-nibd | grep Link');
-    $lines = split("\n", $netstat);
+    $lines = explode("\n", $netstat);
     $results = array();
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i]);
diff -rupN origineel/modules/System/includes/os/class.HP-UX.inc.php nieuw/modules/System/includes/os/class.HP-UX.inc.php
--- origineel/modules/System/includes/os/class.HP-UX.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.HP-UX.inc.php	2012-12-07 16:26:33.000000000 +0100
@@ -59,7 +59,7 @@ class sysinfo {
   } 
 
   function users () {
-    $who = split('=', execute_program('who', '-q'));
+    $who = explode('=', execute_program('who', '-q'));
     $result = $who[1];
     return $result;
   } 
@@ -165,7 +165,7 @@ class sysinfo {
         } 
 
         if ($device) {
-          list($key, $value) = split(': ', $buf, 2);
+          list($key, $value) = explode(': ', $buf, 2);
 
           if (!preg_match('/bridge/i', $key) && !preg_match('/USB/i', $key)) {
             $results[] = preg_replace('/\([^\)]+\)\.$/', '', trim($value));
@@ -239,7 +239,7 @@ class sysinfo {
       foreach( $bufe as $buf ) {
         if (preg_match('/Vendor/', $buf)) {
           preg_match('/Vendor: (.*) Model: (.*) Rev: (.*)/i', $buf, $dev);
-          list($key, $value) = split(': ', $buf, 2);
+          list($key, $value) = explode(': ', $buf, 2);
           $dev_str = $value;
           $get_type = 1;
           continue;
@@ -275,8 +275,8 @@ class sysinfo {
         } 
 
         if ($devstring) {
-          list($key, $value) = split(': ', $buf, 2);
-          list($key, $value2) = split('=', $value, 2);
+          list($key, $value) = explode(': ', $buf, 2);
+          list($key, $value2) = explode('=', $value, 2);
           $results[$devnum] .= " " . trim($value2);
           $devstring = 0;
         } 
@@ -295,7 +295,7 @@ class sysinfo {
 
   function network () {
     $netstat = execute_program('netstat', '-ni | tail -n +2');
-    $lines = split("\n", $netstat);
+    $lines = explode("\n", $netstat);
     $results = array();
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i]);
@@ -353,7 +353,7 @@ class sysinfo {
           // Get info on individual swap files
 	  $swaps = rfts( '/proc/swaps' );
 	  if( $swaps != "ERROR" ) {
-            $swapdevs = split("\n", $swaps);
+            $swapdevs = explode("\n", $swaps);
 
             for ($i = 1, $max = (sizeof($swapdevs) - 1); $i < $max; $i++) {
               $ar_buf = preg_split('/\s+/', $swapdevs[$i], 6);
@@ -374,7 +374,7 @@ class sysinfo {
 
   function filesystems () {
     $df = execute_program('df', '-kP');
-    $mounts = split("\n", $df);
+    $mounts = explode("\n", $df);
     $fstype = array();
 
     $s = execute_program('mount', '-v');
@@ -382,7 +382,7 @@ class sysinfo {
 
     $i = 0;
     while (list(, $line) = each($lines)) {
-      $a = split(' ', $line);
+      $a = explode(' ', $line);
       $fsdev[$a[0]] = $a[4];
     } 
 
diff -rupN origineel/modules/System/includes/os/class.Linux.inc.php nieuw/modules/System/includes/os/class.Linux.inc.php
--- origineel/modules/System/includes/os/class.Linux.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.Linux.inc.php	2012-12-07 15:41:15.000000000 +0100
@@ -95,14 +95,14 @@ class sysinfo {
   
   function uptime () {
     $buf = rfts( '/proc/uptime', 1 );
-    $ar_buf = split( ' ', $buf );
+    $ar_buf = explode( ' ', $buf );
     $result = trim( $ar_buf[0] );
 
     return $result;
   } 
 
   function users () {
-    $who = split('=', execute_program('who', '-q'));
+    $who = explode('=', execute_program('who', '-q'));
     $result = $who[1];
     return $result;
   } 
@@ -281,7 +281,7 @@ class sysinfo {
 	        	} 
 	
 	        	if ($device) {
-	          		list($key, $value) = split(': ', $buf, 2);
+	          		list($key, $value) = explode(': ', $buf, 2);
 	
 	          		if (!preg_match('/bridge/i', $key) && !preg_match('/USB/i', $key)) {
 	            		$results[] = preg_replace('/\([^\)]+\)\.$/', '', trim($value));
@@ -361,7 +361,7 @@ class sysinfo {
       foreach( $bufe as $buf ) {
         if (preg_match('/Vendor/', $buf)) {
           preg_match('/Vendor: (.*) Model: (.*) Rev: (.*)/i', $buf, $dev);
-          list($key, $value) = split(': ', $buf, 2);
+          list($key, $value) = explode(': ', $buf, 2);
           $dev_str = $value;
           $get_type = true;
           continue;
@@ -394,8 +394,8 @@ class sysinfo {
             	    $devnum += 1;
     		    $results[$devnum] = "";
         	} elseif (preg_match('/^S:/', $buf)) {
-            	    list($key, $value) = split(': ', $buf, 2);
-            	    list($key, $value2) = split('=', $value, 2);
+            	    list($key, $value) = explode(': ', $buf, 2);
+            	    list($key, $value2) = explode('=', $value, 2);
     		    if (trim($key) != "SerialNumber") {
             		$results[$devnum] .= " " . trim($value2);
             		$devstring = 0;
diff -rupN origineel/modules/System/includes/os/class.NetBSD.inc.php nieuw/modules/System/includes/os/class.NetBSD.inc.php
--- origineel/modules/System/includes/os/class.NetBSD.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.NetBSD.inc.php	2012-12-07 16:25:08.000000000 +0100
@@ -49,8 +49,8 @@ class sysinfo extends bsd_common {
   function network () {
     $netstat_b = execute_program('netstat', '-nbdi | cut -c1-25,44- | grep "^[a-z]*[0-9][ \t].*Link"');
     $netstat_n = execute_program('netstat', '-ndi | cut -c1-25,44- | grep "^[a-z]*[0-9][ \t].*Link"');
-    $lines_b = split("\n", $netstat_b);
-    $lines_n = split("\n", $netstat_n);
+    $lines_b = explode("\n", $netstat_b);
+    $lines_n = explode("\n", $netstat_n);
     $results = array();
     for ($i = 0, $max = sizeof($lines_b); $i < $max; $i++) {
       $ar_buf_b = preg_split("/\s+/", $lines_b[$i]);
diff -rupN origineel/modules/System/includes/os/class.OpenBSD.inc.php nieuw/modules/System/includes/os/class.OpenBSD.inc.php
--- origineel/modules/System/includes/os/class.OpenBSD.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.OpenBSD.inc.php	2012-12-07 16:26:57.000000000 +0100
@@ -51,8 +51,8 @@ class sysinfo extends bsd_common {
   function network () {
     $netstat_b = execute_program('netstat', '-nbdi | cut -c1-25,44- | grep Link | grep -v \'* \'');
     $netstat_n = execute_program('netstat', '-ndi | cut -c1-25,44- | grep Link | grep -v \'* \'');
-    $lines_b = split("\n", $netstat_b);
-    $lines_n = split("\n", $netstat_n);
+    $lines_b = explode("\n", $netstat_b);
+    $lines_n = explode("\n", $netstat_n);
     $results = array();
     for ($i = 0, $max = sizeof($lines_b); $i < $max; $i++) {
       $ar_buf_b = preg_split("/\s+/", $lines_b[$i]);
diff -rupN origineel/modules/System/includes/os/class.parseProgs.inc.php nieuw/modules/System/includes/os/class.parseProgs.inc.php
--- origineel/modules/System/includes/os/class.parseProgs.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.parseProgs.inc.php	2012-12-07 14:11:14.000000000 +0100
@@ -10,7 +10,7 @@ class Parser {
 	$results = array();
 
         if ($_results = execute_program('lspci', '', $this->debug)) {
-	    $lines = split("\n", $_results);
+	    $lines = explode("\n", $_results);
 	    for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
 		list($addr, $name) = explode(' ', trim($lines[$i]), 2);
 		//if (!preg_match('/bridge/i', $name) && !preg_match('/USB/i', $name)) {
diff -rupN origineel/modules/System/includes/os/class.SunOS.inc.php nieuw/modules/System/includes/os/class.SunOS.inc.php
--- origineel/modules/System/includes/os/class.SunOS.inc.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/includes/os/class.SunOS.inc.php	2012-12-07 16:28:06.000000000 +0100
@@ -25,7 +25,7 @@ class sysinfo {
   // Extract kernel values via kstat() interface
   function kstat ($key) {
     $m = execute_program('kstat', "-p d $key");
-    list($key, $value) = split("\t", trim($m), 2);
+    list($key, $value) = explode("\t", trim($m), 2);
     return $value;
   } 
 
@@ -65,7 +65,7 @@ class sysinfo {
   } 
 
   function users () {
-    $who = split('=', execute_program('who', '-q'));
+    $who = explode('=', execute_program('who', '-q'));
     $result = $who[1];
     return $result;
   } 
@@ -126,7 +126,7 @@ class sysinfo {
     $results = array();
 
     $netstat = execute_program('netstat', '-ni | awk \'(NF ==10){print;}\'');
-    $lines = split("\n", $netstat);
+    $lines = explode("\n", $netstat);
     $results = array();
     for ($i = 0, $max = sizeof($lines); $i < $max; $i++) {
       $ar_buf = preg_split("/\s+/", $lines[$i]);
@@ -197,14 +197,14 @@ class sysinfo {
 
   function filesystems () {
     $df = execute_program('df', '-k');
-    $mounts = split("\n", $df);
+    $mounts = explode("\n", $df);
 
     $dftypes = execute_program('df', '-n');
-    $mounttypes = split("\n", $dftypes);
+    $mounttypes = explode("\n", $dftypes);
 
     for ($i = 1, $j = 0, $max = sizeof($mounts); $i < $max; $i++) {
       $ar_buf = preg_split('/\s+/', $mounts[$i], 6);
-      $ty_buf = split(':', $mounttypes[$i-1], 2);
+      $ty_buf = explode(':', $mounttypes[$i-1], 2);
 
       if (hide_mount($ar_buf[5])) {
         continue;
diff -rupN origineel/modules/System/systemconfig.php nieuw/modules/System/systemconfig.php
--- origineel/modules/System/systemconfig.php	2012-12-12 17:29:35.000000000 +0100
+++ nieuw/modules/System/systemconfig.php	2012-12-07 14:12:14.000000000 +0100
@@ -122,11 +122,11 @@ if ($template == "wml") {
 if ($lng == 'browser') {
   // see if the browser knows the right languange.
   if (isset($_SERVER['HTTP_ACCEPT_LANGUAGE'])) {
-    $plng = split(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']);
+    $plng = explode(',', $_SERVER['HTTP_ACCEPT_LANGUAGE']);
     if (count($plng) > 0) {
       while (list($k, $v) = each($plng)) {
-        $k = split(';', $v, 1);
-        $k = split('-', $k[0]);
+        $k = explode(';', $v, 1);
+        $k = explode('-', $k[0]);
         if (file_exists(APP_ROOT . '/includes/lang/' . $k[0] . '.php')) {
           $lng = $k[0];
           break;
diff -rupN origineel/modules/Users/Authenticate.php nieuw/modules/Users/Authenticate.php
--- origineel/modules/Users/Authenticate.php	2012-12-12 17:29:36.000000000 +0100
+++ nieuw/modules/Users/Authenticate.php	2012-12-07 11:46:48.000000000 +0100
@@ -67,10 +67,14 @@ if($focus->is_authenticated())
 	createUserPrivilegesfile($focus->id);
 	
 	//Security related entries end
-	session_unregister('login_password');
-	session_unregister('login_error');
-	session_unregister('login_user_name');
-
+//	session_unregister('login_password');
+//	session_unregister('login_error');
+//	session_unregister('login_user_name');
+
+	unset($_SESSION['login_password']);
+	unset($_SESSION['login_error']);
+	unset($_SESSION['login_user_name']);
+	
 	$_SESSION['authenticated_user_id'] = $focus->id;
 	$_SESSION['app_unique_key'] = $application_unique_key;
 
@@ -145,4 +149,4 @@ else
 	header("Location: index.php");
 }
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Users/getListOfRecords.php nieuw/modules/Users/getListOfRecords.php
--- origineel/modules/Users/getListOfRecords.php	2012-12-12 17:29:36.000000000 +0100
+++ nieuw/modules/Users/getListOfRecords.php	2012-12-07 15:41:59.000000000 +0100
@@ -31,7 +31,7 @@ $query = $adb->pquery("SELECT tablename,
 $table_name = $adb->query_result($query,0,'tablename');
 $field_name = $adb->query_result($query,0,'fieldname');
 $id_field = $adb->query_result($query,0,'entityidfield');
-$fieldname = split(",",$field_name);
+$fieldname = explode(",",$field_name);
 $fields_array = array($sModule=>$fieldname);
 $id_array = array($sModule=>$id_field);
 $tables_array = array($sModule=>$table_name);
@@ -122,4 +122,4 @@ $output .= '</table>';
 $output .= '</div></td></tr></table></td></tr></table>';
 	
 echo $output;
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Users/SaveMailAccount.php nieuw/modules/Users/SaveMailAccount.php
--- origineel/modules/Users/SaveMailAccount.php	2012-12-12 17:29:36.000000000 +0100
+++ nieuw/modules/Users/SaveMailAccount.php	2012-12-09 19:10:20.000000000 +0100
@@ -9,6 +9,9 @@
  ********************************************************************************/
 require_once("include/database/PearDatabase.php");
 require_once("modules/Users/Users.php");
+
+// error_log("\nStart van save mailaccount settings\n"); 
+
 global $current_user;
 $displayname=$_REQUEST['displayname'];
 $userid = $current_user->id;
@@ -46,6 +49,7 @@ if(isset($_REQUEST['edit']) && $_REQUEST
 	$params = array($account_id, $current_user->id, $displayname, $email, $account_name, $mailprotocol, $server_username, $encrypted_password, $mail_servername, $box_refresh, $mails_per_page, $ssltype, $sslmeth, $_REQUEST["int_mailer"],'1','0');
 }
 
+//error_log("Jan; ok dit is de query:\n$sql\n\nDit zijn de params: ".implode($params)."\n\n");
 $adb->pquery($sql, $params);
 
 $return_module = vtlib_purify($_REQUEST['return_module']);
@@ -55,4 +59,4 @@ $return_action = vtlib_purify($_REQUEST[
 if(empty($return_action)) $return_action = 'index';
 
 header("Location:index.php?module=$return_module&action=$return_action&mailbox=INBOX&parenttab=My Home Page");
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/modules/Webmails/MailBox.php nieuw/modules/Webmails/MailBox.php
--- origineel/modules/Webmails/MailBox.php	2012-12-12 17:29:38.000000000 +0100
+++ nieuw/modules/Webmails/MailBox.php	2012-12-07 15:46:49.000000000 +0100
@@ -166,7 +166,7 @@ class MailBox {
 		$this->db->println("Building connection string");
                 if(preg_match("/@/",$this->login_username)) 
 		{
-                        $mailparts = split("@",$this->login_username);
+                        $mailparts = explode("@",$this->login_username);
                         $user="".trim($mailparts[0])."";
                         $domain="".trim($mailparts[1])."";
 
diff -rupN origineel/Popup.php nieuw/Popup.php
--- origineel/Popup.php	2012-12-12 17:28:07.000000000 +0100
+++ nieuw/Popup.php	2012-12-07 14:15:00.000000000 +0100
@@ -336,7 +336,7 @@ $smarty->assign("ALPHABETICAL", $alphabe
 
 if(isset($_REQUEST['query']) && $_REQUEST['query'] == 'true')
 {
-	list($where, $ustring) = split("#@@#",getWhereCondition($currentModule));
+	list($where, $ustring) = explode("#@@#",getWhereCondition($currentModule));
 	$url_string .="&query=true".$ustring;
 }
 
@@ -439,4 +439,4 @@ if(isset($_REQUEST['ajax']) && $_REQUEST
 else
 	$smarty->display("Popup.tpl");
 
-?>
\ Geen regeleindeteken (LF) aan einde van bestand
+?>
diff -rupN origineel/vtlib/Vtiger/Filter.php nieuw/vtlib/Vtiger/Filter.php
--- origineel/vtlib/Vtiger/Filter.php	2012-12-12 17:29:54.000000000 +0100
+++ nieuw/vtlib/Vtiger/Filter.php	2012-12-07 14:16:27.000000000 +0100
@@ -126,7 +126,7 @@ class Vtiger_Filter {
 	 * @access private
 	 */
 	function __getColumnValue($fieldInstance) {
-		$tod = split('~', $fieldInstance->typeofdata);
+		$tod = explode('~', $fieldInstance->typeofdata);
 		$displayinfo = $fieldInstance->getModuleName().'_'.str_replace(' ','_',$fieldInstance->label).':'.$tod[0];
 		$cvcolvalue = "$fieldInstance->table:$fieldInstance->column:$fieldInstance->name:$displayinfo";
 		return $cvcolvalue;
diff -rupN origineel/vtlib/Vtiger/LanguageImport.php nieuw/vtlib/Vtiger/LanguageImport.php
--- origineel/vtlib/Vtiger/LanguageImport.php	2012-12-12 17:29:54.000000000 +0100
+++ nieuw/vtlib/Vtiger/LanguageImport.php	2012-12-07 15:54:42.000000000 +0100
@@ -79,7 +79,7 @@ class Vtiger_LanguageImport extends Vtig
 				$targetdir  = substr($filename, 0, strripos($filename,'/'));
 				$targetfile = basename($filename);
 
-				$prefixparts = split('_', $prefix);
+				$prefixparts = explode('_', $prefix);
 
 				$dounzip = false;
 				if(is_dir($targetdir)) {
